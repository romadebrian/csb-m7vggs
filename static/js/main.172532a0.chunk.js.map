{"version":3,"sources":["firebase.js","Home.js","Login.js","SignUp.js","App.js","index.js"],"names":["AuthContext","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","AuthContextProvider","props","useState","user","setUser","console","log","useEffect","unsubscribe","onAuthStateChanged","getAuth","Provider","value","useAuthState","auth","useContext","isAuthenticated","Home","onClick","signOut","Login","handleSubmit","useCallback","e","a","preventDefault","target","elements","email","password","signInWithEmailAndPassword","alert","message","onSubmit","name","placeholder","type","SignUp","createUserWithEmailAndPassword","PrivateRoute","component","to","PublicRoute","App","element","exact","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.172532a0.chunk.js","sourcesContent":["import { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nexport const firebaseApp = initializeApp({\r\n  apiKey: \"AIzaSyC9l1t-l55GCkR71kt_xhB-Npa5E6sOIUs\",\r\n  authDomain: \"testfirebase-5d3b6.firebaseapp.com\",\r\n  databaseURL: \"https://testfirebase-5d3b6.firebaseio.com\",\r\n  projectId: \"testfirebase-5d3b6\",\r\n  storageBucket: \"testfirebase-5d3b6.appspot.com\",\r\n  messagingSenderId: \"799266533322\",\r\n  appId: \"1:799266533322:web:e6f1c2292b346cc098e933\",\r\n  measurementId: \"G-H9NLL1YNME\"\r\n});\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const [user, setUser] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  console.log(\"datauser\", user);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(getAuth(), setUser);\r\n    return () => unsubscribe;\r\n  }, []);\r\n\r\n  return <AuthContext.Provider value={user} {...props} />;\r\n};\r\n\r\nexport const useAuthState = () => {\r\n  const auth = useContext(AuthContext);\r\n  // console.log(\"test\", auth);\r\n\r\n  return { ...auth, isAuthenticated: auth != null };\r\n};\r\n","import { getAuth, signOut } from \"firebase/auth\";\r\nimport { useAuthState } from \"./firebase\";\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <div>\r\n      <h1> Welcome </h1>\r\n      <button onClick={() => signOut(getAuth())}> SignOut </button>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  getAuth,\r\n  onAuthStateChanged,\r\n  signInWithEmailAndPassword\r\n} from \"firebase/auth\";\r\nimport { useCallback, useEffect } from \"react\";\r\nimport { useAuthState } from \"./firebase\";\r\n\r\nexport const Login = () => {\r\n  // useEffect(() => {\r\n  //   onAuthStateChanged(getAuth(), (currentUser) => {\r\n  //     console.log(\"data user\", currentUser?.email);\r\n  //   });\r\n  // }, []);\r\n\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n\r\n    const [email, password] = e.target.elements;\r\n    const auth = getAuth();\r\n\r\n    // console.log(email.value, password.value);\r\n\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email.value, password.value);\r\n      console.log(\"login succes\");\r\n    } catch (e) {\r\n      alert(e.message);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <input name=\"email\" placeholder=\"email\" type=\"email\" />\r\n        <input name=\"password\" placeholder=\"password\" type=\"password\" />\r\n        <button type=\"submit\"> Login </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import { createUserWithEmailAndPassword, getAuth } from \"firebase/auth\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport const SignUp = () => {\r\n  const handleSubmit = useCallback(async (e) => {\r\n    e.preventDefault();\r\n\r\n    const [email, password] = e.target.elements;\r\n    const auth = getAuth();\r\n    try {\r\n      createUserWithEmailAndPassword(auth, email.value, password.value);\r\n    } catch (e) {\r\n      alert(e.message);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1>SignUp</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <input name=\"email\" placeholder=\"email\" type=\"email\" />\r\n        <input name=\"password\" placeholder=\"password\" type=\"password\" />\r\n        <button type=\"submit\"> SignUp </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import {\n  BrowserRouter as Router,\n  Link,\n  Navigate,\n  Outlet,\n  Route,\n  Routes,\n  useLocation\n} from \"react-router-dom\";\nimport { AuthContextProvider, useAuthState } from \"./firebase\";\n\nimport { Home } from \"./Home\";\nimport { Login } from \"./Login\";\nimport { SignUp } from \"./SignUp\";\n\nconst PrivateRoute = ({ component: C, ...props }) => {\n  const { isAuthenticated } = useAuthState();\n  console.log(isAuthenticated);\n\n  return isAuthenticated ? <Outlet /> : <Navigate to=\"/login\" />;\n};\n\nconst PublicRoute = ({ component: C, ...props }) => {\n  const { isAuthenticated } = useAuthState();\n\n  return !isAuthenticated ? <Outlet /> : <Navigate to=\"/\" />;\n};\n\nexport default function App() {\n  return (\n    <AuthContextProvider>\n      <Router>\n        <div>\n          <Link to=\"/\"> Home </Link> | <Link to=\"/login\"> Login </Link> |\n          <Link to=\"/signup\"> Signin </Link>\n        </div>\n        <Routes>\n          <Route element={<PrivateRoute />}>\n            <Route exact path=\"/\" element={<Home />} />\n          </Route>\n\n          <Route element={<PublicRoute />}>\n            <Route exact path=\"/login\" element={<Login />} />\n            <Route exact path=\"/signup\" element={<SignUp />} />\n          </Route>\n        </Routes>\n      </Router>\n    </AuthContextProvider>\n  );\n}\n\nfunction RequireAuth({ children }) {\n  let auth = useAuthState();\n  let location = useLocation();\n  console.log(auth);\n\n  if (auth) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  return children;\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}